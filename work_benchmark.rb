require 'benchmark/ips'
require_relative 'task-1'

GC.disable

Benchmark.ips do |x|
  # x.time = 1
  # x.warmup = 2
  x.stats = :bootstrap
  x.confidence = 95

  x.report("Work small") { work }
  x.report("Work") { work(file_path: 'test_data.txt') }

  # arr = ["2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2017-04-29","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28","2016-12-28"]
  #
  # x.report("collect") { arr.collect { |s| Date.strptime(s, '%Y-%m-%d') } }
  # x.report("map") { arr.map { |s| Date.strptime(s, '%Y-%m-%d') } }


  # x.report("Work large") { work(file_path: 'data_large.txt') }
  x.compare!
end
